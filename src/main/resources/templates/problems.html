<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problem Set - CafeOJ</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <nav class="navbar">
        <a href="/" class="navbar-brand">⚡ CafeOJ</a>
        <div class="user-info">
            <div th:if="${#authentication.name != 'anonymousUser'}">
                <a href="/profile" class="nav-link" th:text="${#authentication.name}">Username</a>
            </div>
            <div th:unless="${#authentication.name != 'anonymousUser'}">
                <a href="/login" class="nav-link">Login</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <h1 class="page-title">Problem Set</h1>
        
        <table class="problem-table">
            <thead>
                <tr>
                    <th class="status-col">Status</th>
                    <th>Title</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="dto : ${problems}">
                    <td class="status-col">
                        <!-- Solved -->
                        <span th:if="${dto.status == 'SOLVED'}" class="status-badge status-solved" title="Solved">✓</span>
                        <!-- Tried -->
                        <span th:if="${dto.status == 'TRIED'}" class="status-badge status-tried" title="Tried">✗</span>
                        <!-- Not Tried -->
                        <span th:if="${dto.status == 'NOT_TRIED'}" class="status-badge status-none" title="Not Tried">-</span>
                    </td>
                    <td>
                        <a th:href="@{/problem/{id}(id=${dto.problem.id})}" class="problem-link" th:text="${dto.problem.title}">Problem Title</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>
